# SpawnInfra 生成基础建设（开服自动基建）

- 作者: 羽学
- 出处: [TShockWorldModify](https://github.com/hufang360/TShockWorldModify)
- 在新世界出生点右侧脚下建一个监狱集群
- 出生点上方150格生成世界平台与世界轨道
- 出生点脚下生成地狱直通车,
- 直通车洞穴层下方生成简易刷怪场（150 * 150 *2）
- 在世界轨道能找到微光湖直通车(底下放了雨云块防摔)
- 在出生点左下角生成8*14个箱子
- 从地狱层往下深40格生成地狱平台与轨道
- 或使用指令在当前位置创建个监狱（/rm 数量）

## 更新日志
```
v1.3.0
加入了微光湖直通车
地狱直通车洞穴层下方加入了刷怪场（无特殊环境,简易电路）
将出生点箱子的垫脚石更换为了灰砖平台

v1.2.0
加入自动基建后自动清理一遍全地图掉落物（替换树木引起的图格错误）
将具备开关的配置项放入了它们自己的数据组里
加入了生成箱子的设定

v1.1.0
插件更名为：生成基础建设
加入地表/左海/地狱平台（轨道）、地狱直通车

v1.0.0
将世界修改器插件中的监狱小房子方法独立成一个功能
支持配置项自定义监狱细节样式
建完监狱后会自动关掉`开服自动基建`配置项，
需要重置请输入/rm reset 然后重启服务器即可。

```

## 指令
| 语法                             | 别名  |       权限       |                   说明                   |
| -------------------------------- | :---: | :--------------: | :--------------------------------------: |
| /rm 数量 | /基建 |  room.use    |    在当前位置建小房子（玩家用）    |
| /rm reset | /基建 重置 |  room.admin    |    重置配置开关:开服自动建监狱   |


## 配置

```json
{
  "使用说明": "[左海平台]没适配好不推荐用，[刷怪场缩放值]不建议乱动（影响站立位/箱子位/计时位/岩浆区）",
  "使用说明2": "出生点过低会引起[世界平台]贯穿海洋或地图太小容易上太空，建议自己根据情况调整,[微光直通车]的高度是从[世界平台]到湖中心",
  "使用说明3": "改[箱子数量]要同时改[出生点偏移X]，改[箱子层数]要同时改[出生点偏移Y]，[层数间隔]和[箱子宽度]不建议动",
  "使用说明4": "给玩家用的建晶塔房指令:/rm 数量 权限名:room.use (千万别在出生点用，有炸图风险)",
  "使用说明5": "每次重置服务器前使用一遍：/rm 重置，或者直接把这个指令写进重置插件里",
  "开服自动基建": true,
  "监狱集群": [
    {
      "是否建监狱": true,
      "出生点偏移X": -4,
      "出生点偏移Y": 10,
      "监狱集群宽度": 36,
      "监狱集群高度": 80,
      "图格ID": 38,
      "墙壁ID": 147,
      "平台样式": 43,
      "椅子样式": 27,
      "工作台样式": 18,
      "火把样式": 13
    }
  ],
  "箱子集群": [
    {
      "是否建箱子": true,
      "出生点偏移X": -38,
      "出生点偏移Y": 27,
      "箱子数量": 18,
      "箱子层数": 8,
      "层数间隔": 2,
      "清理高度": 30,
      "箱子宽度": 2,
      "箱子ID": 21,
      "箱子样式": 1,
      "平台ID": 19,
      "平台样式": 43
    }
  ],
  "世界/左海平台": [
    {
      "是否建世界平台": true,
      "是否建世界轨道": true,
      "是否建左海平台": false,
      "世界平台图格": 19,
      "世界平台样式": 43,
      "世界平台高度": -150,
      "平台清理高度": 35,
      "左海平台长度": 270,
      "左海平台高度": 218,
      "左海平台间隔": 30
    }
  ],
  "直通车/刷怪场": [
    {
      "是否建地狱直通车": true,
      "是否建地狱平台": true,
      "是否建地狱轨道": true,
      "是否建微光直通车": true,
      "是否建刷怪场": true,
      "刷怪场只清不建": false,
      "方块图格": 38,
      "绳子图格": 214,
      "平台图格": 19,
      "平台样式": 43,
      "直通车偏移X": 0,
      "直通车偏移Y": 0,
      "地狱直通车宽度": 5,
      "地狱平台深度": 40,
      "微光直通车宽度": 2,
      "刷怪场清理深度": 150,
      "刷怪场清理宽度": 150,
      "刷怪中心偏移": 0
    }
  ]
}
```
## 反馈
- 优先发issued -> 共同维护的插件库：https://github.com/Controllerdestiny/TShockPlugin
- 次优先：TShock官方群：816771079
- 大概率看不到但是也可以：国内社区trhub.cn ，bbstr.net , tr.monika.love