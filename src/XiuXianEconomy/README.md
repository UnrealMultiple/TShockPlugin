# 修仙经济系统 (XiuXianEconomy)

一个基于TShock的Terraria服务器插件，为修仙服务器提供完整的经济系统，包含星晶货币、拍卖行、交易行和商店系统。

# 🎯 功能特色

# ✨ 核心功能

· 星晶货币系统 - 四种品级的星晶货币（下品、中品、上品、极品）
· 拍卖行系统 - 玩家间自由交易的拍卖市场
· 交易行系统 - 快速交易的交易市场
· 智能商店系统 - 基于Boss进度的智能解锁商店
· Boss进度系统 - 击败Boss解锁新物品
· 实时UI显示 - 顶部和聊天框实时显示经济信息

# 🏪 商店特色

· 进度解锁 - 击败Boss后解锁对应阶段物品
· 分页浏览 - 支持翻页浏览大量商品
· 购买限制 - 可设置物品购买次数限制
· 库存管理 - 有限库存和无限库存支持

# 📥 安装要求

# 必需前置插件

· XiuXianShouYuan.dll (修仙星宿系统)
· TShock 4.5.0+

# 推荐权限组

· 修仙弟子 - 普通玩家权限
· 修仙仙尊 - 管理员权限

# ⚙️ 配置说明

首次运行会自动生成配置文件 XiuXianEconomy.json：

```json
{
  "商店物品": [...],
  "下品掉落概率": 0.3,
  "中品掉落概率": 0.15,
  "上品掉落概率": 0.05,
  "极品掉落概率": 0.01,
  "每日奖励下品": 10,
  "每日奖励中品": 5,
  "每日奖励上品": 2,
  "每日奖励极品": 1,
  "顶部ui偏移X": -13,
  "顶部ui偏移Y": 12,
  "聊天ui偏移X": 2,
  "聊天ui偏移Y": 1,
  "经济系统启用": true,
  "自动给予初始星晶": true,
  "初始星晶数量": 100,
  "顶部ui刷新频率毫秒": 5000,
  "聊天ui刷新频率毫秒": 90000
}
```

# 💰 星晶货币

# 货币品级

品级 颜色 兑换比例
下品星晶 绿色 1:1
中品星晶 蓝色 1:100
上品星晶 紫色 1:10,000
极品星晶 金色 1:1,000,000

# 获取方式

· 击败怪物随机掉落
· 每日奖励 (/每日奖励)
· 出售物品到拍卖行/交易行
· 管理员给予 (/添加星晶)

# 🛍️ 商店系统

# 进度要求

商店物品按Boss进度解锁：

1. 开荒阶段 - 无要求
2. 克苏鲁之眼后 - 基础装备
3. 世界吞噬者/克脑后 - 暗影装备
4. 骷髅王后 - 钩爪等工具
5. 血肉墙后 - 困难模式矿石
6. 机械三王后 - 神圣装备
7. 世纪之花后 - 泰拉刃等
8. 石巨人后 - 甲虫装备
9. 月亮领主后 - 毕业装备

# 商店命令

命令 权限 说明
/星晶商店 economy.player 打开商店
/翻页 <页码> economy.player 翻页浏览
/翻页 下一页 economy.player 下一页
/翻页 上一页 economy.player 上一页
/购买 <编号> [数量] economy.player 购买物品

# 🏦 拍卖行系统

# 拍卖特点

· 7天有效期 - 长时间竞标
· 自由定价 - 卖家自主定价
· 全服可见 - 所有玩家可见

# 拍卖命令

命令 权限 说明
| /拍卖行 | economy.player | 查看拍卖行 |
| /上架拍卖 <价格> <品质> | economy.player | 上架物品 |
| /购买拍卖 <编号> | economy.player | 购买拍卖品 |

# 💱 交易行系统

# 交易特点

· 3天有效期 - 快速交易
· 即时购买 - 无竞标直接购买
· 便捷交易 - 适合日常物品

# 交易命令

命令 权限 说明
/交易行 economy.player 查看交易行
/上架交易 <价格> <品质> economy.player 上架物品
/购买交易 <编号> economy.player 购买交易品

# 📊 玩家命令

# 基础命令

命令 说明
/星晶余额 查看星晶余额和财富等级
/每日奖励 领取每日星晶奖励
/查看进度 查看已击败的Boss进度

# UI控制

命令 权限 说明
/查看ui刷新频率 economy.player 查看UI刷新设置
/设置ui刷新频率 <类型> <毫秒> economy.admin 调整UI刷新频率

# 🔧 管理员命令

# 管理命令

命令 权限 说明
/添加星晶 <玩家> <品质> <数量> economy.admin 给予玩家星晶
/设置进度 <玩家> <Boss名称> economy.admin 设置玩家Boss进度
/重读经济 economy.admin 重载配置文件
/开关经济系统 economy.admin 启用/禁用经济系统

# 🎮 游戏内功能

# Boss进度

击败以下Boss解锁对应商店物品：

· 克苏鲁之眼、世界吞噬者、克苏鲁之脑
· 蜂王、骷髅王、血肉墙
· 机械三王（机械蠕虫、机械骷髅王、机械双子眼）
· 世纪之花、石巨人、猪龙鱼公爵、月亮领主

# 怪物掉落

击败怪物有几率掉落星晶，掉落几率基于怪物强度：

· 普通怪物：主要掉落下品星晶
· 精英怪物：可能掉落中品星晶
· Boss：可能掉落上品和极品星晶

# UI显示

· 顶部UI：显示余额、财富等级、市场信息
· 聊天UI：简洁显示余额和每日奖励状态

# 🔄 自动保存

插件自动保存数据：

· XiuXianEconomyData.json - 玩家经济数据
· XiuXianAuction.json - 拍卖行数据
· XiuXianTrade.json - 交易行数据
· 玩家退出时自动保存数据

# 🐛 故障排除

# 常见问题

1. 插件无法加载
   · 检查前置插件XiuXianShouYuan是否正确安装
   · 查看TShock日志获取详细错误信息
2. 权限问题
   · 确保玩家拥有economy.player权限
   · 管理员需要economy.admin权限
3. UI显示异常
   · 调整配置文件中的偏移量
   · 使用/设置ui刷新频率调整刷新速度

# 日志位置

· TShock日志文件位于服务器根目录的logs文件夹
· 经济系统相关日志以[修仙经济系统]开头

# 📝 更新日志

v1.0.1

· 新增Boss进度系统
· 优化商店物品分类
· 改进UI显示效果
· 修复已知问题

# 🤝 贡献

欢迎提交Issue和Pull Request来帮助改进这个插件！

# 📄 许可证: GPL-3.0

本项目采用MIT许可证，详见LICENSE文件。

---

注意：本插件需要前置插件XiuXianShouYuan.dll（修仙星宿系统）才能正常运行！

· 优先发issue -> 共同维护的插件库: https://github.com/UnrealMultiple/TShockPlugin
· 次优先: TShock官方群: 816771079
· 国内社区: trhub.cn, bbstr.net, tr.monika.love